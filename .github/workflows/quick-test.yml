name: ğŸ§ª Quick Test

on:
  push:
    branches: [ feature/*, hotfix/* ]
  workflow_dispatch:

env:
  XCODE_VERSION: '16.0'
  IOS_VERSION: '18.6'
  DEVICE: 'iPhone 16'

jobs:
  quick-test:
    name: ğŸ§ª Test RÃ¡pido
    runs-on: macos-latest
    timeout-minutes: 10
    
    steps:
      - name: ğŸ“¥ Checkout cÃ³digo
        uses: actions/checkout@v4
      
      - name: ğŸ Configurar Xcode
        uses: maxim-lobanov/setup-xcode@v1
        with:
          xcode-version: ${{ env.XCODE_VERSION }}
      
      - name: ğŸ§ª Tests Unitarios RÃ¡pidos
        run: |
          echo "ğŸ§ª Ejecutando tests unitarios rÃ¡pidos..."
          xcodebuild test \
            -project "Pronostico fertilidad.xcodeproj" \
            -scheme "Pronostico fertilidad" \
            -destination "platform=iOS Simulator,name=${{ env.DEVICE }},OS=${{ env.IOS_VERSION }}" \
            -only-testing:Pronostico_fertilidadTests \
            -skipPackagePluginValidation \
            | xcpretty
      
      - name: ğŸ“Š Verificar Tests Pasaron
        run: |
          echo "âœ… Tests unitarios completados exitosamente"
          echo "Branch: ${{ github.ref_name }}"
          echo "Commit: ${{ github.sha }}"
