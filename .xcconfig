// MARK: - 🧪 CONFIGURACIÓN DE CODE COVERAGE
// Archivo de configuración para optimizar la cobertura de tests

// Habilitar code coverage
ENABLE_CODE_COVERAGE = YES

// Configuración de tests
ENABLE_TESTING_SEARCH_PATHS = YES
TEST_HOST = $(BUILT_PRODUCTS_DIR)/$(BUNDLE_LOADER)
TEST_TARGET_NAME = $(TARGET_NAME)Tests

// Configuración de cobertura
CODE_COVERAGE_ENABLED = YES
GCC_INSTRUMENT_PROGRAM_FLOW_ARCS = YES
GCC_GENERATE_TEST_COVERAGE_FILES = YES

// Configuración de optimización para tests
GCC_OPTIMIZATION_LEVEL = 0
GCC_FAST_MATH = NO

// Configuración de warnings para tests
GCC_WARN_ABOUT_RETURN_TYPE = YES
GCC_WARN_ABOUT_MISSING_NEWLINE = YES
GCC_WARN_ABOUT_MISSING_PROTOTYPES = YES
GCC_WARN_ABOUT_POINTER_SIGNEDNESS = YES
GCC_WARN_ABOUT_UNUSED_FUNCTIONS = YES
GCC_WARN_ABOUT_UNUSED_VARIABLES = YES

// Configuración de debugging para tests
GCC_GENERATE_DEBUGGING_SYMBOLS = YES
DEBUG_INFORMATION_FORMAT = dwarf-with-dsym

// Configuración de Swift para tests
SWIFT_OPTIMIZATION_LEVEL = -Onone
SWIFT_DEBUG_INFORMATION_FORMAT = dwarf
SWIFT_WHOLE_MODULE_OPTIMIZATION = NO

// Configuración de instrumentación
ENABLE_STRICT_OBJC_MSGSEND = YES
ENABLE_BITCODE = NO
ENABLE_APP_SANDBOX = NO

// Configuración de archivos de cobertura
COVERAGE_FILE = $(BUILT_PRODUCTS_DIR)/$(TARGET_NAME).gcda
COVERAGE_DIR = $(BUILT_PRODUCTS_DIR)/$(TARGET_NAME).gcno

// Configuración de reportes
COVERAGE_REPORT_DIR = $(BUILT_PRODUCTS_DIR)/CoverageReports
COVERAGE_HTML_DIR = $(BUILT_PRODUCTS_DIR)/CoverageHTML
